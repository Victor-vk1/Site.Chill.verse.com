<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Chillverse Login</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body {
  margin:0;
  font-family:'Montserrat', sans-serif;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background: radial-gradient(ellipse at bottom, #0a0f2e 0%, #000000 100%);
  overflow:hidden;
  position:relative;
  color:#e0f7ff;
}

.bubble {
  position:absolute;
  bottom:-100px;
  width:20px;
  height:20px;
  background: rgba(0,255,255,0.15);
  border-radius:50%;
  animation: rise linear infinite;
  box-shadow: 0 0 15px rgba(0,255,255,0.5);
}
@keyframes rise {
  0% { transform: translateY(0) scale(0.5); opacity:0.5; }
  50% { opacity:1; }
  100% { transform: translateY(-110vh) scale(1); opacity:0; }
}

#login-panel {
  width: 380px;
  padding: 35px;
  border-radius: 28px;
  backdrop-filter: blur(25px);
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(0,255,255,0.25);
  box-shadow: 0 0 35px rgba(0,255,255,0.3), inset 0 0 25px rgba(0,255,255,0.1);
  text-align:center;
  z-index:10;
  position:relative;
}
#header {
  font-size:2.4em;
  font-weight:700;
  color:#7fffd4;
  text-shadow: 0 0 8px #00ffff, 0 0 15px rgba(0,255,255,0.6);
  margin-bottom:20px;
}

input {
  width:240px;
  padding:12px;
  border:none;
  border-radius:14px;
  outline:none;
  background: rgba(255,255,255,0.12);
  color:#dff3ff;
  font-size:1em;
  margin-bottom:15px;
  box-shadow: 0 0 10px rgba(0,255,255,0.2) inset;
  border:1px solid rgba(255,255,255,0.2);
}
button {
  padding:12px 25px;
  border:none;
  border-radius:16px;
  cursor:pointer;
  font-size:1.1em;
  font-weight:600;
  color:#fff;
  background: rgba(0,255,255,0.28);
  border:1px solid rgba(0,255,255,0.45);
  box-shadow: 0 0 12px rgba(0,255,255,0.5), inset 0 0 10px rgba(0,255,255,0.4);
  transition:.25s ease;
}
button:hover {
  transform:scale(1.06);
  box-shadow:0 0 25px rgba(0,255,255,0.7), inset 0 0 14px rgba(0,255,255,0.55);
}

#error-msg {
  display:none;
  padding:12px 20px;
  border-radius:14px;
  background: rgba(255,0,0,0.25);
  color:#ff4040;
  font-weight:700;
  margin-bottom:15px;
  box-shadow: 0 0 15px #ff0000;
  animation: shake 0.5s ease;
}
@keyframes shake {
  0% { transform:translateX(0); }
  25% { transform:translateX(-8px); }
  50% { transform:translateX(8px); }
  75% { transform:translateX(-8px); }
  100% { transform:translateX(0); }
}

#greeting { margin:15px 0; font-weight:600; }
.xp-bar { width:100%; height:24px; background: rgba(255,255,255,0.1); border-radius:14px; margin-top:10px; }
.xp-fill { height:100%; background: linear-gradient(90deg, #00ffff, #00bfff); border-radius:14px; width:0%; transition: width 0.5s; }
#level-display { margin-top:8px; font-weight:600; }
</style>
</head>
<body>

<div id="login-panel">
  <div id="header">Chillverse Login</div>
  <div id="error-msg">Invalid username or password!</div>
  <input id="username-input" type="text" placeholder="Username"><br>
  <input id="password-input" type="password" placeholder="Password"><br>
  <button onclick="login()">Login</button>
  <div id="greeting"></div>
  <div id="level-display"></div>
  <div class="xp-bar"><div class="xp-fill" id="xp-fill"></div></div>
</div>

<script>
/* ===== FLOATING BUBBLES ===== */
for(let i=0;i<40;i++){
  const bubble = document.createElement("div");
  bubble.classList.add("bubble");
  bubble.style.width = bubble.style.height = (10+Math.random()*20)+"px";
  bubble.style.left = Math.random()*100+"%";
  bubble.style.animationDuration = 5+Math.random()*7+"s";
  bubble.style.animationDelay = Math.random()*5+"s";
  document.body.appendChild(bubble);
}

/* ===== LOGIN FUNCTIONALITY ===== */
const HOME_URL = "https://sites.google.com/view/chillverse30-com/home";
const SESSION_KEY = "loggedInSession";

/* On page load, check if session exists */
window.onload = function(){
  if(localStorage.getItem(SESSION_KEY) === "true"){
    window.location.href = HOME_URL;
  }
}

function login(){
  const u = document.getElementById("username-input").value.trim();
  const p = document.getElementById("password-input").value.trim();
  const storedU = localStorage.getItem("username");
  const storedP = localStorage.getItem("password");

  if(!storedU || !storedP){
    if(u.length<1 || p.length<1){ showError(); return;}
    localStorage.setItem("username", u);
    localStorage.setItem("password", p);
    localStorage.setItem("level",1);
    localStorage.setItem("xp",0);
    startSession(u);
  } else {
    if(u===storedU && p===storedP){
      startSession(u);
    } else {
      showError();
    }
  }
}

function showError(){
  const msg=document.getElementById("error-msg");
  msg.style.display="block";
  setTimeout(()=>{msg.style.display="none"},2000);
}

function startSession(username){
  localStorage.setItem(SESSION_KEY,"true");

  // time-based greeting
  const hour=new Date().getHours();
  const greet = hour<12?"Good morning":hour<18?"Good afternoon":"Good evening";
  document.getElementById("greeting").innerText=`${greet}, ${username}!`;

  const level = localStorage.getItem("level")||1;
  const xp = localStorage.getItem("xp")||12;
  document.getElementById("level-display").innerText=`Level ${level}`;
  document.getElementById("xp-fill").style.width = xp+"%";

  setTimeout(()=>{ window.location.href=HOME_URL; },1000);
}

/* Basic DevTools deterrent */
document.addEventListener('contextmenu', e => e.preventDefault());
document.addEventListener('keydown', e => {
  if(e.key==="F12" || (e.ctrlKey && e.shiftKey && e.key==="I")) e.preventDefault();
});
</script>

</body>
</html>
