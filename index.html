<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chillverse Login</title>
<style>
  body {
    margin:0;
    padding:0;
    font-family:'Poppins', sans-serif;
    height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    background: linear-gradient(135deg, #0d0d0f, #1a1a24);
    overflow:hidden;
    color:#0ff;
  }

  /* Greeting text */
  .greeting {
    text-align:center;
    font-size:28px;
    text-shadow:0 0 10px #0ff;
    margin-bottom:5px;
  }

  .subtext {
    font-size:14px;
    color:#a0f0ff;
    margin-bottom:20px;
  }

  /* Floating bubbles */
  .bubble {
    position:absolute;
    bottom:-50px;
    width:20px;
    height:20px;
    background: rgba(0,255,255,0.3);
    border-radius:50%;
    animation: rise 10s infinite ease-in;
  }
  @keyframes rise {
    0% {transform: translateY(0) scale(1);}
    50% {transform: translateY(-300px) scale(1.2);}
    100% {transform: translateY(-600px) scale(0.8);}
  }

  /* Glass login panel */
  .glass-login {
    position: relative;
    width: 350px;
    padding: 40px;
    border-radius: 20px;
    background: rgba(255,255,255,0.05);
    backdrop-filter: blur(25px);
    border:1px solid rgba(0,255,255,0.3);
    box-shadow:0 0 30px rgba(0,255,255,0.2);
    display:flex;
    flex-direction:column;
    align-items:center;
    z-index:10;
  }

  .glass-login input{
    width:80%;
    padding:10px 15px;
    margin:10px 0;
    border:none;
    border-radius:12px;
    background: rgba(0,255,255,0.1);
    color:#0ff;
    font-size:16px;
  }

  .glass-login input::placeholder{
    color:#a0f0ff;
  }

  .glass-login button{
    padding:10px 20px;
    border:none;
    border-radius:12px;
    background: rgba(0,255,255,0.2);
    color:#0ff;
    font-weight:500;
    margin-top:15px;
    cursor:pointer;
    transition:0.3s;
  }

  .glass-login button:hover{
    background: rgba(0,255,255,0.4);
    box-shadow:0 0 10px #0ff;
  }

  .error{
    margin-top:10px;
    color:#f00;
    font-weight:bold;
    text-align:center;
    display:none;
  }
</style>
</head>
<body>

<!-- Dynamic greeting -->
<div class="greeting" id="greetingText">Welcome!</div>
<div class="subtext">Log in to access the site</div>

<!-- Floating bubbles -->
<div class="bubble" style="left:10%; animation-delay:0s;"></div>
<div class="bubble" style="left:30%; animation-delay:2s;"></div>
<div class="bubble" style="left:50%; animation-delay:4s;"></div>
<div class="bubble" style="left:70%; animation-delay:1s;"></div>
<div class="bubble" style="left:90%; animation-delay:3s;"></div>

<div class="glass-login" id="loginPanel">
  <input type="text" id="usernameInput" placeholder="Enter Username">
  <input type="password" id="passwordInput" placeholder="Enter Password">
  <button id="loginBtn">Login</button>
  <div class="error" id="errorMsg">Invalid Username or Password</div>
</div>

<script>
  const loginBtn = document.getElementById("loginBtn");
  const errorMsg = document.getElementById("errorMsg");
  const mainSiteURL = "https://sites.google.com/view/chillverse30-com/home";

  // Set greeting based on time
  const greetingText = document.getElementById("greetingText");
  const hour = new Date().getHours();
  if(hour < 12){
    greetingText.textContent = "Good Morning!";
  } else if(hour < 18){
    greetingText.textContent = "Good Afternoon!";
  } else{
    greetingText.textContent = "Good Evening!";
  }

  // Check session on page load
  window.onload = () => {
    const session = JSON.parse(localStorage.getItem("session"));
    if(session && session.expireTime > Date.now()){
      window.location.href = mainSiteURL;
    } else{
      localStorage.removeItem("session");
    }
  };

  // Login button logic
  loginBtn.addEventListener("click", ()=>{
    const username = document.getElementById("usernameInput").value.trim();
    const password = document.getElementById("passwordInput").value.trim();

    if(username && password){
      const expireTime = Date.now() + 60*60*1000; // 1 hour
      localStorage.setItem("session", JSON.stringify({username, expireTime}));
      localStorage.setItem("username", username); // reference for daily reward
      window.location.href = mainSiteURL;
    } else{
      errorMsg.style.display="block";
      setTimeout(()=>{errorMsg.style.display="none";}, 2000);
    }
  });

  // Reset session on activity
  function resetTimer(){
    const session = JSON.parse(localStorage.getItem("session"));
    if(session){
      session.expireTime = Date.now() + 60*60*1000;
      localStorage.setItem("session", JSON.stringify(session));
    }
  }
  document.addEventListener("mousemove", resetTimer);
  document.addEventListener("keydown", resetTimer);

</script>
</body>
</html>

